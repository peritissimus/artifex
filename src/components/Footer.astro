---
interface Props {
  currentPath?: string;
}

const { currentPath = '/' } = Astro.props;

// Determine AI mode URL
const isAiMode = currentPath.startsWith('/ai');
const humanUrl = isAiMode ? currentPath.replace('/ai', '') || '/' : currentPath;
const machineUrl = isAiMode ? currentPath : `/ai${currentPath === '/' ? '' : currentPath}`;
---

<footer class="footer">
  <div class="footer-copy">PERITISSIMUS &copy; {new Date().getFullYear()}</div>
  <a href="https://www.google.com/maps?q=12.9352,77.6245" target="_blank" rel="noopener" class="footer-coords">LAT: 12.935&deg; / LONG: 77.624&deg;</a>
  <div class="mode-toggle">
    <a
      href={humanUrl}
      class:list={['mode-btn', { active: !isAiMode }]}
      data-mode="human"
    >
      <span class="mode-indicator"></span>
      <span class="mode-label">HUMAN</span>
    </a>
    <a
      href={machineUrl}
      class:list={['mode-btn', { active: isAiMode }]}
      data-mode="machine"
    >
      <span class="mode-indicator"></span>
      <span class="mode-label">MACHINE</span>
    </a>
  </div>
</footer>

